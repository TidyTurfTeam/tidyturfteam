<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Free Cleanup Form</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive;
      background: #A8D5A8;
      padding: 2rem;
      color: #333;
    }

    .container {
      max-width: 700px;
      margin: auto;
      background: white;
      padding: 2rem;
      border-radius: 20px;
      box-shadow: 0 8px 0 #8B4513;
      border: 4px solid #7FB069;
    }

    h1 {
      text-align: center;
      color: #8B4513;
      text-shadow: 2px 2px #7FB069;
      margin-bottom: 1rem;
    }

    p {
      font-size: 1.1rem;
      font-weight: bold;
      margin-bottom: 2rem;
      text-align: center;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 1.2rem;
    }

    label {
      font-weight: bold;
      margin-top: 0.5rem;
    }

    input, textarea, select {
      padding: 0.8rem;
      border: 2px solid #7FB069;
      border-radius: 10px;
      font-size: 1rem;
    }

    textarea {
      resize: vertical;
    }

    button {
      padding: 1rem;
      font-size: 1.1rem;
      background: #C44536;
      color: white;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 4px 0 #8B4513;
    }

    button:hover {
      background: #A0522D;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Help Us Train!</h1>
    <p>Hi! We need some training for our new business we are starting. By filling out this form, you'll give us insight into our audience and help us gain real experience in your yard. This doesn't just help us â€” it helps you by potentially getting a **free dog-waste pickup**!</p>

    <form id="training-form" action="https://formspree.io/f/myzjqzbo" method="POST">
      <label>First Name *</label>
      <input type="text" name="first_name" required>

      <label>Last Name *</label>
      <input type="text" name="last_name" required>

      <label>How should we contact you? *</label>
      <select name="contact_method" id="contact-method" required>
        <option value="">-- Select --</option>
        <option value="Text">Text</option>
        <option value="Email">Email</option>
        <option value="Both">Both</option>
      </select>

      <div id="phone-field" class="hidden">
        <label>Phone Number *</label>
        <input type="tel" name="phone">
      </div>

      <div id="email-field" class="hidden">
        <label>Email Address *</label>
        <input type="email" name="email">
      </div>

      <label>Address *</label>
      <textarea name="address" rows="2" required></textarea>

      <label>How many dogs do you have? *</label>
      <select name="dogs" required>
        <option value="">-- Select --</option>
        <option value="None">None</option>
        <option value="1">1</option>
        <option value="2">2</option>
      </select>

      <label>How often do you pick up dog waste? *</label>
      <input type="text" name="pickup_frequency" placeholder="e.g. Every 3 days, once a week, etc." required>

      <label>How long does it usually take you? *</label>
      <input type="text" name="duration" placeholder="e.g. 20 minutes" required>

      <label>What would be a reasonable price you would pay for this service? *</label>
      <input type="text" name="reasonable_price" placeholder="e.g. $10/week" required>

      <label>Would you sign up for a service like this? *</label>
      <select name="interested" required>
        <option value="">-- Select --</option>
        <option value="Yes">Yes</option>
        <option value="Maybe">Maybe</option>
        <option value="No">No</option>
      </select>

      <label>Other comments, suggestions, or questions?</label>
      <textarea name="notes" rows="2"></textarea>

      <button type="submit">Submit</button>
    </form>
  </div>

  <script>
    const method = document.getElementById("contact-method");
    const phoneField = document.getElementById("phone-field");
    const emailField = document.getElementById("email-field");

    method.addEventListener("change", () => {
      const value = method.value;
      const phoneInput = phoneField.querySelector("input");
      const emailInput = emailField.querySelector("input");

      phoneField.classList.toggle("hidden", value === "Email");
      emailField.classList.toggle("hidden", value === "Text");

      if (value === "Text") {
        phoneField.classList.remove("hidden");
        phoneInput.required = true;
        emailField.classList.add("hidden");
        emailInput.required = false;
      } else if (value === "Email") {
        emailField.classList.remove("hidden");
        emailInput.required = true;
        phoneField.classList.add("hidden");
        phoneInput.required = false;
      } else if (value === "Both") {
        phoneField.classList.remove("hidden");
        emailField.classList.remove("hidden");
        phoneInput.required = true;
        emailInput.required = true;
      } else {
        phoneField.classList.add("hidden");
        emailField.classList.add("hidden");
        phoneInput.required = false;
        emailInput.required = false;
      }
    });

    document.getElementById("training-form").addEventListener("submit", function (e) {
      e.preventDefault();
      const form = this;
      const formData = new FormData(form);
      fetch(form.action, {
        method: "POST",
        body: formData,
        headers: { 'Accept': 'application/json' }
      }).then(response => {
        if (response.ok) {
          window.location.href = "thankyou.html";
        } else {
          alert("Submission failed. Try again.");
        }
      }).catch(() => {
        alert("Network error. Try again.");
      });
    });
  </script>
</body>
</html>
